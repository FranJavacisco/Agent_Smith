{"version":3,"sources":["script.js"],"names":["canvas","document","getElementById","ctx","getContext","loginContainer","querySelector","loginBox","passwordInput","messageDiv","enterButton","secretWord","revealedLetters","Set","lastRevealTime","revealInterval","cycleInterval","initialDelay","isRevealing","startTime","Date","now","animatedLetters","resizeCanvas","width","window","innerWidth","height","innerHeight","addEventListener","matrixChars","baseFontSize","columns","Math","floor","drops","Array","fill","regularColor","highlightColor","AnimatedLetter","letter","x","y","fontSize","maxFontSize","speed","alpha","min","font","fillStyle","fillText","resetRevealCycle","clear","startNewCycle","setTimeout","draw","fillRect","currentTime","i","length","char","random","size","unrevealedLetters","filter","l","has","letterToReveal","add","randomColumn","push","isAlive","update","showLogin","classList","checkAccess","inputValue","value","toUpperCase","style","color","textContent","location","href","remove","e","key","animate","requestAnimationFrame"],"mappings":"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","sourcesContent":["// Elementos del DOM\r\nconst canvas = document.getElementById('matrix');\r\nconst ctx = canvas.getContext('2d');\r\nconst loginContainer = document.querySelector('.login-container');\r\nconst loginBox = document.querySelector('.login-box');\r\nconst passwordInput = document.querySelector('.password-input');\r\nconst messageDiv = document.querySelector('.message');\r\nconst enterButton = document.querySelector('.enter-button');\r\n\r\n// Configuración\r\nconst secretWord = \"MATRIX\";\r\nlet revealedLetters = new Set();\r\nlet lastRevealTime = 0;\r\nconst revealInterval = 3000; // 3 segundos entre cada revelación\r\nconst cycleInterval = 5000; // 5 segundos entre ciclos\r\nconst initialDelay = 5000; // 5 segundos de retraso inicial\r\nlet isRevealing = false;\r\nlet startTime = Date.now();\r\n\r\n// Seguimiento de letras animadas\r\nlet animatedLetters = [];\r\n\r\n// Ajustar tamaño del canvas\r\nfunction resizeCanvas() {\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n}\r\n\r\nwindow.addEventListener('resize', resizeCanvas);\r\nresizeCanvas();\r\n\r\n// Configuración de la lluvia de código\r\nconst matrixChars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*\";\r\nconst baseFontSize = 14;\r\nconst columns = Math.floor(canvas.width/baseFontSize);\r\nconst drops = new Array(columns).fill(0);\r\n\r\n// Colores\r\nconst regularColor = \"#22b455\";\r\nconst highlightColor = \"#ff0000\";\r\n\r\n// Clase para las letras animadas\r\nclass AnimatedLetter {\r\n    constructor(letter, x, y) {\r\n        this.letter = letter;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.fontSize = baseFontSize;\r\n        this.maxFontSize = baseFontSize * 3;\r\n        this.speed = 2;\r\n        this.alpha = 1;\r\n    }\r\n\r\n    update() {\r\n        this.y += this.speed;\r\n        this.fontSize = Math.min(this.fontSize + 0.5, this.maxFontSize);\r\n        if (this.y > canvas.height) {\r\n            this.alpha -= 0.05;\r\n        }\r\n        return this.alpha > 0;\r\n    }\r\n\r\n    draw() {\r\n        ctx.font = `${this.fontSize}px monospace`;\r\n        ctx.fillStyle = `rgba(255, 0, 0, ${this.alpha})`;\r\n        ctx.fillText(this.letter, this.x, this.y);\r\n    }\r\n}\r\n\r\n// Control del ciclo de revelación\r\nfunction resetRevealCycle() {\r\n    revealedLetters.clear();\r\n    isRevealing = true;\r\n    lastRevealTime = Date.now();\r\n}\r\n\r\nfunction startNewCycle() {\r\n    setTimeout(resetRevealCycle, cycleInterval);\r\n}\r\n\r\n// Función principal de dibujo\r\nfunction draw() {\r\n    // Efecto de desvanecimiento\r\n    ctx.fillStyle = \"rgba(2, 2, 4, 0.035)\";\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n    ctx.font = baseFontSize + \"px monospace\";\r\n    \r\n    const currentTime = Date.now();\r\n    \r\n    // Dibujar caracteres normales\r\n    for(let i = 0; i < drops.length; i++) {\r\n        const char = matrixChars[Math.floor(Math.random() * matrixChars.length)];\r\n        ctx.fillStyle = regularColor;\r\n        ctx.fillText(char, i * baseFontSize, drops[i] * baseFontSize);\r\n\r\n        if(drops[i] * baseFontSize > canvas.height && Math.random() > 0.955) {\r\n            drops[i] = 0;\r\n        }\r\n        drops[i] += 0.5;\r\n    }\r\n\r\n    // Revelar letras secretas después del retraso inicial\r\n    if (currentTime - startTime > initialDelay && isRevealing) {\r\n        if (currentTime - lastRevealTime > revealInterval && \r\n            revealedLetters.size < secretWord.length) {\r\n            \r\n            let unrevealedLetters = [...secretWord].filter(l => !revealedLetters.has(l));\r\n            if (unrevealedLetters.length > 0) {\r\n                let letterToReveal = unrevealedLetters[Math.floor(Math.random() * unrevealedLetters.length)];\r\n                revealedLetters.add(letterToReveal);\r\n                \r\n                // Crear nueva letra animada\r\n                const randomColumn = Math.floor(Math.random() * columns);\r\n                const x = randomColumn * baseFontSize;\r\n                animatedLetters.push(new AnimatedLetter(letterToReveal, x, 0));\r\n                \r\n                lastRevealTime = currentTime;\r\n\r\n                // Si todas las letras han sido reveladas, programar el próximo ciclo\r\n                if (revealedLetters.size === secretWord.length) {\r\n                    isRevealing = false;\r\n                    startNewCycle();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Actualizar y dibujar letras animadas\r\n    animatedLetters = animatedLetters.filter(letter => {\r\n        const isAlive = letter.update();\r\n        if (isAlive) {\r\n            letter.draw();\r\n        }\r\n        return isAlive;\r\n    });\r\n}\r\n\r\n// Mostrar login\r\nfunction showLogin() {\r\n    loginContainer.classList.add('visible');\r\n    loginBox.classList.add('active');\r\n}\r\n\r\n// Eventos de interacción\r\nif ('ontouchstart' in window) {\r\n    document.addEventListener('touchstart', showLogin);\r\n} else {\r\n    document.addEventListener('mousemove', showLogin);\r\n}\r\n\r\n// Verificación de acceso\r\nfunction checkAccess() {\r\n    const inputValue = passwordInput.value.toUpperCase();\r\n    if (inputValue === secretWord) {\r\n        messageDiv.style.color = highlightColor;\r\n        messageDiv.textContent = \"Acceso Concedido...\";\r\n        enterButton.classList.add('success');\r\n        \r\n        setTimeout(() => {\r\n            window.location.href = '/blog';\r\n        }, 2000);\r\n    } else {\r\n        messageDiv.style.color = '#ff0000';\r\n        messageDiv.textContent = \"Código Incorrecto\";\r\n        enterButton.classList.add('error');\r\n        passwordInput.value = '';\r\n        \r\n        setTimeout(() => {\r\n            messageDiv.textContent = '';\r\n            enterButton.classList.remove('error');\r\n        }, 2000);\r\n    }\r\n}\r\n\r\n// Eventos para el botón y el input\r\nenterButton.addEventListener('click', checkAccess);\r\npasswordInput.addEventListener('keypress', (e) => {\r\n    if (e.key === 'Enter') {\r\n        checkAccess();\r\n    }\r\n});\r\n\r\n// Iniciar el primer ciclo de revelación\r\nsetTimeout(() => {\r\n    isRevealing = true;\r\n}, initialDelay);\r\n\r\n// Iniciar animación\r\nfunction animate() {\r\n    requestAnimationFrame(animate);\r\n    draw();\r\n}\r\n\r\nanimate();"],"file":"script.dev.js"}