"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var canvas=document.getElementById("matrix"),ctx=canvas.getContext("2d"),loginContainer=document.querySelector(".login-container"),loginBox=document.querySelector(".login-box"),passwordInput=document.querySelector(".password-input"),messageDiv=document.querySelector(".message"),enterButton=document.querySelector(".enter-button"),secretWord="MATRIX",revealedLetters=new Set,lastRevealTime=0,revealInterval=3e3,cycleInterval=5e3,initialDelay=5e3,isRevealing=!1,startTime=Date.now(),animatedLetters=[];function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}window.addEventListener("resize",resizeCanvas),resizeCanvas();var matrixChars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*",baseFontSize=14,columns=Math.floor(canvas.width/baseFontSize),drops=new Array(columns).fill(0),regularColor="#22b455",highlightColor="#ff0000",AnimatedLetter=function(){function a(e,t,n){_classCallCheck(this,a),this.letter=e,this.x=t,this.y=n,this.fontSize=baseFontSize,this.maxFontSize=3*baseFontSize,this.speed=2,this.alpha=1}return _createClass(a,[{key:"update",value:function(){return this.y+=this.speed,this.fontSize=Math.min(this.fontSize+.5,this.maxFontSize),this.y>canvas.height&&(this.alpha-=.05),0<this.alpha}},{key:"draw",value:function(){ctx.font="".concat(this.fontSize,"px monospace"),ctx.fillStyle="rgba(255, 0, 0, ".concat(this.alpha,")"),ctx.fillText(this.letter,this.x,this.y)}}]),a}();function resetRevealCycle(){revealedLetters.clear(),isRevealing=!0,lastRevealTime=Date.now()}function startNewCycle(){setTimeout(resetRevealCycle,cycleInterval)}function draw(){ctx.fillStyle="rgba(2, 2, 4, 0.035)",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.font=baseFontSize+"px monospace";for(var e=Date.now(),t=0;t<drops.length;t++){var n=matrixChars[Math.floor(Math.random()*matrixChars.length)];ctx.fillStyle=regularColor,ctx.fillText(n,t*baseFontSize,drops[t]*baseFontSize),drops[t]*baseFontSize>canvas.height&&.955<Math.random()&&(drops[t]=0),drops[t]+=.5}if(initialDelay<e-startTime&&isRevealing&&revealInterval<e-lastRevealTime&&revealedLetters.size<secretWord.length){var a=_toConsumableArray(secretWord).filter(function(e){return!revealedLetters.has(e)});if(0<a.length){var r=a[Math.floor(Math.random()*a.length)];revealedLetters.add(r);var i=Math.floor(Math.random()*columns)*baseFontSize;animatedLetters.push(new AnimatedLetter(r,i,0)),lastRevealTime=e,revealedLetters.size===secretWord.length&&(isRevealing=!1,startNewCycle())}}animatedLetters=animatedLetters.filter(function(e){var t=e.update();return t&&e.draw(),t})}function showLogin(){loginContainer.classList.add("visible"),loginBox.classList.add("active")}function checkAccess(){passwordInput.value.toUpperCase()===secretWord?(messageDiv.style.color=highlightColor,messageDiv.textContent="Acceso Concedido...",enterButton.classList.add("success"),setTimeout(function(){window.location.href="/blog"},2e3)):(messageDiv.style.color="#ff0000",messageDiv.textContent="CÃ³digo Incorrecto",enterButton.classList.add("error"),passwordInput.value="",setTimeout(function(){messageDiv.textContent="",enterButton.classList.remove("error")},2e3))}function animate(){requestAnimationFrame(animate),draw()}"ontouchstart"in window?document.addEventListener("touchstart",showLogin):document.addEventListener("mousemove",showLogin),enterButton.addEventListener("click",checkAccess),passwordInput.addEventListener("keypress",function(e){"Enter"===e.key&&checkAccess()}),setTimeout(function(){isRevealing=!0},initialDelay),animate();
//# sourceMappingURL=script.min.js.map
